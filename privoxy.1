.\" Revised man page 10/13/01, for development version.
.\" Hal Burgiss <hal@foobox.net> 
.\" for Privoxy developers: ijbswa-developers@lists.sourceforge.net
.\"
.TH PRIVOXY 1 "v2.9.13 (beta) Date: 2002/03/24"

.SH NAME
\fBprivoxy\fP
- Privacy enhancing
Proxy
.\"\s-2(TM)\s+2
.SH SYNOPSIS
\fBprivoxy\fP
[--help] [--version] [--no-daemon] [--pidfile \fIpidfile\fP] [--user \fIuser\fP[.\fIgroup\fP]] 
\fI\&[configfile]\fP (Unix)
.TP
\fBprivoxy.exe\fP \fI[configfile]\fP (Windows)
.br

.SH OPTIONS
\fBPrivoxy\fP may be invoked with the following command-line options:
.TP
.BR --version " (unix only)"
Print version info and exit.
.TP
.BR --help " (unix only)"
Print a short usage info and exit.
.TP
.BR --no-daemon " (unix only)"
Don't become a daemon, i.e. don't fork and become process group
leader, don't detach from controlling tty, and do all logging
there.
.TP
\fB --pidfile\fP \fIpidfile\fP (unix only)
On startup, write the process ID to \fIpidfile\fP. Delete the
\fIpidfile\fP on exit. Failiure to create or delete the
\fIpidfile\fP is non-fatal. If no \fB--pidfile\fP option
is given, no PID file will be used.
.TP
\fB --user\fP \fIuser\fP[.\fIgroup\fP] (unix only)
After (optionally) writing the PID file, assume the user ID
of \fIuser\fP and the GID of \fIgroup\fP, or, if the optional
\fIgroup\fP was not given, the default group of \fIuser\fP.
Exit if the privileges are not sufficient to do so.

.PP
If the \fIconfigfile\fP is not specified on the command line,
\fBPrivoxy\fP will look for a file named \fBconfig\fP in the 
current directory (except on Win32 where it will try \fBconfig.txt\fP).


.SH DESCRIPTION
\fBPrivoxy\fP is a web proxy with advanced filtering capabilities for
protecting privacy, filtering web page content, managing cookies,
controlling access, and removing ads, banners, pop-ups and other
obnoxious Internet junk. \fBPrivoxy\fP has a very flexible configuration and
can be customized to suit individual needs and tastes. \fBPrivoxy\fP has
application for both stand-alone systems and multi-user networks.
.PP
\fBPrivoxy\fP is based on code of the \fBInternet Junkbuster (tm)\fP 
\fBJunkbuster\fP was originally written by JunkBusters Corporation, and was
released as free open-source software under the GNU GPL. Stefan Waldherr made
many improvements, and started the SourceForge project to continue
development.

.SH INSTALLATION AND USE
Browsers must be individually configured to use 
\fBPrivoxy\fP as a HTTP proxy.
The default setting is for localhost, 
on port 8118 (configurable in the main config file).
To set the 
\s-2HTTP\s0
proxy in Netscape and Mozilla,
go through:
\fB\&Edit\fP;
\fB\&Preferences\fP;
\fB\&Advanced\fP;
\fB\&Proxies\fP;
\fB\&Manual Proxy Configuration\fP;
\fB\&View\fP.
.PP
For Internet Explorer,
go through:
\fB\&Tools\fP;
\fB\&Internet Properties\fP;
\fB\&Connections\fP;
\fB\&LAN Settings\fP.
.PP
The
Secure (SSL) Proxy \" ijbfaq.html#security
should also be set to the same values,
otherwise
\fB\&https:\fP
\s-2URL\s0s
will not be proxied.
.PP
For other browsers, check the documentation.

.SH CONFIGURATION
\fBPrivoxy\fP can be configured with the various configuration 
files. The default configuration files are: \fIconfig\fP, 
\fIdefault.action\fP, and \fIdefault.filter\fP. These are well commented. 
On Unix and Unix-like systems, these are located in \fI/etc/privoxy/\fP 
by default. On Windows, OS/2 and AmigaOS, these files are in the same directory 
as the \fBPrivoxy\fP executable. 
.PP
The name and number of configuration files has changed from previous versions,
and is subject to change as development progresses. In fact, the configuration
itself is changed and much more sophisticated. See the user-manual for a brief
explanation of all configuration options.
.PP
The actions list (ad blocks, etc) can also be configured with your 
web browser at \fIhttp://www.privoxy.org/config\fP.
\fBPrivoxy's\fP configuration parameters can also be viewed 
at the same page. In addition, \fBPrivoxy\fP can be toggled on/off.
This is an internal page. 

.SH "SAMPLE CONFIGURATION"
.PP
A brief example of what a \fIdefault.action\fP configuration might look like:
.PP
.nf

# Define a few useful custom aliases for later use
{{alias}}

# Don't accept cookies
+no-cookies = +no-cookies-set +no-cookies-read

# Do accept cookies
-no-cookies = -no-cookies-set -no-cookies-read

# Treat these blocked URLs as images.
+imageblock = +block +image

# Define page filters we want to use.
myfilters = +filter{html-annoyances} +filter{js-annoyances}\\
            +filter{no-popups} +filter{webbugs}

## Default Policies (actions) ############################
{ \\
 -block \\
 -downgrade \\
 +fast-redirects \\
 myfilters \\
 +no-compression \\
 +hide-forwarded \\
 +hide-from{block} \\
 +hide-referer{forge} \\
 -hide-user-agent \\
 -image \\
 +image-blocker{blank} \\
 +no-cookies-keep \\
 -no-cookies-read \\
 -no-cookies-set \\
 +no-popups \\
 -vanilla-wafer \\
 -wafer \\
}
/

# Now set exceptions to the above defined policies #######

# Sites where we want persistant cookies
{-no-cookies -no-cookies-keep}
 .redhat.com
 .sun.com
 .yahoo.com
 .msdn.microsoft.com

# This site requires cookies AND 'fast-redirects' on
{-no-cookies -no-cookies-keep -fast-redirects}
 .nytimes.com

# Add custom headers, and turn off filtering of page source
{+add-header{X-Privacy: Yes please} #-add-header{*} \\
 +add-header{X-User-Tracking: No thanks!} -filter}
 privacy.net

# Block, and treat these URLs as 'images'.
{+imageblock}
 .adforce.imgis.com
 .ad.preferences.com/image.*
 .ads.web.aol.com
 .ad-adex3.flycast.com
 .ad.doubleclick.net
 .ln.doubleclick.net
 .ad.de.doubleclick.net
 /.*/count\\.cgi\\?.*df=
 194.221.183.22[1-7]
 a196.g.akamai.net/7/196/2670/000[12]/images.gmx.net/i4/images/.*/

# Block any URLs that match these patterns
{+block}
 /.*/(.*[-_.])?ads?[0-9]?(/|[-_.].*|\\.(gif|jpe?g))
 /.*/(plain|live|rotate)[-_.]?ads?/
 /.*/(sponsor)s?[0-9]?/
 /.*/ad(server|stream|juggler)\\.(cgi|pl|dll|exe)
 /.*/adbanners/
 /.*/adv((er)?ts?|ertis(ing|ements?))?/
 /.*/banners?/
 /.*/popupads/
 /.*/advert[0-9]+\\.jpg
 /ad_images/
 /.*/ads/
 /images/.*/.*_anim\\.gif
 /rotations/ 
 /.*(ms)?backoff(ice)?.*\\.(gif|jpe?g)
 195.63.104.*/(inbox|log|meld|folderlu|folderru|log(in|out)[lmr]u|)
 .images.nytimes.com
 .images.yahoo.com/adv/
 /.*cnnstore\\.gif

.fi
.sp
.PP
See the comments in the configuration files themselves, or the user-manual 
for explanations of the above syntax, and other \fBPrivoxy\fP configuration 
options.

.SH "FILES"
\fI/usr/sbin/privoxy\fP
.br
\fI/etc/privoxy/config\fP
.br
\fI/etc/privoxy/default.action\fP
.br
\fI/etc/privoxy/advanced.action\fP
.br
\fI/etc/privoxy/basic.action\fP
.br
\fI/etc/privoxy/intermediate.action\fP
.br
\fI/etc/privoxy/default.filter\fP
.br
\fI/etc/privoxy/trust\fP
.br
\fI/etc/privoxy/templates/*\fP
.br
\fI/var/log/privoxy/logfile\fP

.PP
Various other files should be included, but may vary depending on platform 
and build configuration. More documentation should be included in the local
documentation directory, though is not complete at this time.

.SH SIGNALS
\fBPrivoxy\fP terminates on the \fBSIGINT\fP, \fBSIGTERM\fP and \fBSIGABRT\fP
signals. Log rotation scripts may cause a re-opening of the logfile by sending
a \fBSIGHUP\fP to \fBPrivoxy\fP. Note that unlike other daemons, \fBPrivoxy\fP
does not need to be made aware of config file changes by \fBSIGHUP\fP -- it will
detect them automatically.
 
.SH NOTES
This is a \fBBETA\fP version of \fBPrivoxy\fP. Not all features are  
complete or well tested.
.PP
Please see the user-maual on how to contact the developers for 
feature requests, reporting problems, and other questions.

.SH BUGS
Probably. Please see the user-manual for how and where to report bugs.

.SH SEE ALSO
.br
http://www.privoxy.org/config
.br
http://www.privoxy.org/
.br
http://sourceforge.net/projects/ijbswa
.br
http://www.waldherr.org/junkbuster/\" waldherr.org#
.br
http://www.junkbusters.com/ht/en/cookies.html\" cookies.html#
.br
http://privacy.net/analyze/
.br
http://www.squid-cache.org/
.br
http://linuxalpha.ch/packages/

.SH DEVELOPMENT TEAM
.br
 Stefan Waldherr 
.br
 Andreas Oesterhelt 
.br
 Jon Foster 
.br
 Markus Breitenbach
.br
 Thomas Steudten
.br
 David Schmidt
.br
 Haroon Rafique
.br
 Joerg Strohmayer
.br
 Shamim Mohamed
.br
 Sarantis Paskalis
.br
 Gabriel L. Somlo
.br
 John Venvertloh
.br
 Hal Burgiss
.br
 Rodrigo Barbosa

.SH COPYRIGHT AND LICENSE
\"Orginally written by, and copyrighted by, the Anonymous Coders and Junkbusters
\"Corporation. 
\".PP
This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.
.PP
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
.PP
You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
.PP
Internet Junkbuster
Proxy
is a
trademark \" legal.html#marks
of Junkbusters Corporation.
